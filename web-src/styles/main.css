        /* [스타일] 기본 설정 */
        * { box-sizing: border-box; }
        body {
            margin: 0; padding: 0;
            background-color: #333; /* PPT 편집기처럼 어두운 배경 */
            color: #333;
            font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Segoe UI', sans-serif;
            overflow: hidden; 
            user-select: none; 
            height: 100vh;
            width: 100vw;
            position: relative; /* Flex 제거하고 absolute 위치 지정을 위해 relative */
        }

        /* [슬라이드 스테이지] - 수정됨: Absolute Centering */
        #slide-stage {
            /* 초기값은 16:9 */
            width: 1280px;
            height: 720px;
            background-color: white;
            position: absolute; /* 절대 위치 */
            top: 50%; left: 50%; /* 화면 중앙 기준 */
            /* transform은 JS에서 제어: translate(-50%, -50%) scale(...) */
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            overflow: hidden;
            transform-origin: center center;
            transition: width 0.3s, height 0.3s; /* 비율 변경 시 애니메이션 */
        }

        /* 드래그 앤 드롭 활성화 시 효과 (스테이지에 적용) */
        #slide-stage.drag-over {
            border: 5px dashed #2196f3;
            background-color: #f0f8ff;
        }

        /* [슬라이드] 개별 페이지 */
        .slide {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: none;
        }
        .slide.active { display: block; }

        /* [이미지] 드래그 및 리사이즈 가능 스타일 */
        .draggable-img {
            position: absolute; 
            cursor: move; 
            border: 2px solid transparent; 
            min-width: 50px;
            min-height: 50px;
            --resize-corner-hit: 24px;
            --resize-edge-hit: 16px;
            --resize-corner-gap: 20px;
            --resize-visible-size: 10px;
        }

        .draggable-text {
            padding: 6px;
        }

        .draggable-text .text-box {
            width: 100%;
            height: 100%;
            outline: none;
            cursor: text;
            user-select: text;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .draggable-text .text-box:empty::before {
            content: attr(data-placeholder);
            color: #888;
        }
        
        .draggable-img.selected {
            border: 2px solid #007bff; 
            z-index: 1000; 
        }

        .draggable-video video {
            width: 100%;
            height: 100%;
            display: block;
            background: #000;
        }

        .resize-handle {
            width: var(--resize-corner-hit);
            height: var(--resize-corner-hit);
            background: transparent;
            position: absolute;
            right: calc(var(--resize-corner-hit) / -2);
            bottom: calc(var(--resize-corner-hit) / -2);
            cursor: se-resize; 
            display: none; 
            z-index: 1001;
        }
        .resize-handle::after {
            content: '';
            position: absolute;
            width: var(--resize-visible-size);
            height: var(--resize-visible-size);
            background: #007bff;
            border-radius: 2px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .resize-handle[data-resize="corner"] {
            z-index: 1002;
        }
        .resize-handle.resize-handle-e,
        .resize-handle.resize-handle-w {
            width: var(--resize-edge-hit);
            height: calc(100% - (var(--resize-corner-gap) * 2));
            top: var(--resize-corner-gap);
            bottom: var(--resize-corner-gap);
            cursor: ew-resize;
        }
        .resize-handle.resize-handle-e {
            right: calc(var(--resize-edge-hit) / -2);
            left: auto;
        }
        .resize-handle.resize-handle-w {
            left: calc(var(--resize-edge-hit) / -2);
            right: auto;
        }
        .resize-handle.resize-handle-n,
        .resize-handle.resize-handle-s {
            height: var(--resize-edge-hit);
            width: calc(100% - (var(--resize-corner-gap) * 2));
            left: var(--resize-corner-gap);
            right: var(--resize-corner-gap);
            cursor: ns-resize;
        }
        .resize-handle.resize-handle-n {
            top: calc(var(--resize-edge-hit) / -2);
            bottom: auto;
        }
        .resize-handle.resize-handle-s {
            bottom: calc(var(--resize-edge-hit) / -2);
            top: auto;
        }
        .draggable-img.selected .resize-handle {
            display: block; 
        }

        .draggable-iframe iframe {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
            will-change: transform;
            transform-origin: 0 0;
        }

        .draggable-iframe {
            overflow: hidden;
        }

        .draggable-iframe.iframe-interactive iframe {
            pointer-events: auto;
        }

        body.pan-mode .draggable-iframe:not(.iframe-interactive) iframe {
            pointer-events: none !important;
        }

        body.pan-mode {
            cursor: grab;
        }

        body.pan-mode.is-panning {
            cursor: grabbing;
        }

        /* [외부 HTML - iframe] 창 안의 창 스타일 */
        .iframe-container {
            width: 100%; 
            height: 100%;
            position: absolute;
            top: 0; left: 0;
            background: white;
        }

        iframe {
            width: 100%; height: 100%;
            border: none;
            display: block;
        }

        /* [텍스트] 가이드 문구 */
        .guide-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #999;
            pointer-events: none; 
            width: 80%;
        }
        .guide-text h1 { font-size: 40px; margin-bottom: 20px; color: #555; }
        .guide-text p { font-size: 20px; line-height: 1.6; }

        /* [HTML 알림바] */
        .iframe-notice {
            display: none !important;
        }

        .iframe-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 6px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.65);
            color: #fff;
            font-size: 12px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 2001;
        }

        .draggable-iframe:hover .iframe-controls {
            opacity: 1;
            pointer-events: auto;
        }

        .iframe-controls .iframe-control-btn {
            padding: 2px 6px;
            font-size: 11px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.35);
            box-shadow: none;
        }

        .iframe-controls .iframe-control-btn:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        .iframe-scale-label {
            min-width: 44px;
            text-align: center;
        }

        /* [UI] 상단 컨트롤 패널 */
        #ui-controls {
            position: fixed;
            top: 20px; right: 20px;
            z-index: 9999;
            display: flex;
            gap: 10px;
            flex-wrap: wrap; /* 작은 화면에서 줄바꿈 허용 */
            justify-content: flex-end;
            transition: opacity 0.3s;
        }
        .ui-spacer {
            width: 10px;
        }
        button {
            padding: 8px 16px;
            background: #444;
            color: white;
            border: 1px solid #666;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            white-space: nowrap;
        }
        button:hover { background: #666; }
        #save-btn { background: #28a745; border-color: #28a745; display: none; } 
        #save-as-btn { background: #17a2b8; border-color: #17a2b8; display: none; }
        #fs-btn { background: #007bff; border-color: #007bff; }
        .mode-btn { background: #e0a800; border-color: #d39e00; color: #fff; }

        .text-controls {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .text-controls select,
        .text-controls input[type="number"],
        .text-controls input[type="color"] {
            height: 32px;
            border: 1px solid #666;
            border-radius: 4px;
            background: #2f2f2f;
            color: #fff;
            font-size: 12px;
        }

        .text-controls select,
        .text-controls input[type="number"] {
            padding: 0 8px;
        }

        .text-controls input[type="number"] {
            width: 70px;
        }

        .text-controls input[type="color"] {
            width: 34px;
            padding: 0;
        }

        .text-controls .toggle-btn {
            width: 34px;
            padding: 0;
            font-weight: 700;
        }

        .text-controls .toggle-btn.is-active {
            background: #1f6feb;
            border-color: #1f6feb;
        }

        /* [UI] 페이지 번호 */
        #page-indicator {
            position: absolute;
            bottom: 20px; right: 20px;
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            pointer-events: none;
            z-index: 9998;
            transition: opacity 0.3s;
        }

        body:not(.is-fullscreen) #page-indicator {
            bottom: 180px;
        }

        /* [슬라이드 썸네일 스트립] */
        #thumbnail-strip {
            position: fixed;
            left: 20px;
            right: 20px;
            bottom: 20px;
            height: 140px;
            display: flex;
            gap: 12px;
            padding: 12px;
            overflow-x: auto;
            overflow-y: hidden;
            background: rgba(0,0,0,0.55);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 14px;
            z-index: 9500;
            backdrop-filter: blur(8px);
        }

        #thumbnail-strip::-webkit-scrollbar {
            height: 10px;
        }
        #thumbnail-strip::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.08);
            border-radius: 10px;
        }
        #thumbnail-strip::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.35);
            border-radius: 10px;
        }

        .thumbnail {
            flex: 0 0 auto;
            width: 192px;
            height: 108px;
            position: relative;
            border-radius: 8px;
            border: 2px solid transparent;
            overflow: hidden;
            background: #222;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
        }

        .thumbnail.active {
            border-color: #32a3ff;
            box-shadow: 0 0 0 2px rgba(50,163,255,0.4), 0 6px 12px rgba(0,0,0,0.5);
        }

        .thumbnail.dragging {
            opacity: 0.5;
        }

        .thumbnail.drop-target {
            outline: 2px dashed rgba(255,255,255,0.8);
            outline-offset: 3px;
        }

        .thumbnail-inner {
            /* 썸네일 내부도 JS에서 크기 조절 예정 */
            width: 1280px;
            height: 720px;
            transform: scale(0.15);
            transform-origin: top left;
            pointer-events: none;
            position: relative;
            background: white;
        }

        .thumbnail .slide {
            display: block;
        }

        .thumbnail-iframe-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f1f1f1;
            color: #666;
            font-size: 40px;
            border: 4px dashed #bbb;
        }

        .thumbnail-video-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0f0f0f;
            color: #e6e6e6;
            font-size: 28px;
            border: 3px dashed #444;
        }

        .thumbnail-label {
            position: absolute;
            left: 6px;
            top: 6px;
            background: rgba(0,0,0,0.6);
            color: #fff;
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 10px;
        }

        /* [네비게이션] 양쪽 영역 */
        .nav-zone {
            position: fixed;
            top: 0;
            height: 100%;
            width: 80px; 
            z-index: 9000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0; 
            transition: opacity 0.3s ease;
            cursor: pointer;
            color: rgba(255,255,255,0.5);
            font-size: 60px;
            font-weight: bold;
        }
        
        .nav-zone:hover {
            opacity: 1;
            background: linear-gradient(to right, rgba(0,0,0,0.5), transparent);
        }
        #nav-next.nav-zone:hover {
            background: linear-gradient(to left, rgba(0,0,0,0.5), transparent);
        }
        
        #nav-prev { left: 0; }
        #nav-next { right: 0; }

        /* [전체화면 모드 스타일] */
        body.is-fullscreen #ui-controls,
        body.is-fullscreen #page-indicator,
        body.is-fullscreen #thumbnail-strip,
        body.is-fullscreen .resize-handle { display: none !important; }
        
        body.is-fullscreen .draggable-img.selected {
            border-color: transparent !important;
        }
        
        body.is-fullscreen .draggable-img {
            cursor: default !important; 
        }
        
        body.is-fullscreen {
            background-color: black; 
        }

        body.invert-mode #slide-stage,
        body.invert-mode .thumbnail-inner {
            filter: invert(1);
        }

        body.is-fullscreen.cursor-hidden,
        body.is-fullscreen.cursor-hidden * {
            cursor: none !important;
        }
